# =============================================================================
# Railway — Backend Environment Variables
# Copy these into your Railway service's Variables panel.
# DATABASE_URL and REDIS_URL are auto-injected by Railway plugins — do not set
# them manually unless you are using an external provider.
# =============================================================================

# ── Django core ──────────────────────────────────────────────────────────────
DJANGO_SETTINGS_MODULE=config.settings_production
DJANGO_SECRET_KEY=<generate-with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())">
DJANGO_ALLOWED_HOSTS=your-app.railway.app,yourdomain.com
DEBUG=False

# ── Database (auto-injected by Railway PostgreSQL plugin) ─────────────────────
# DATABASE_URL=postgresql://user:pass@host:5432/dbname  ← set automatically

# ── Redis / Celery (auto-injected by Railway Redis plugin) ────────────────────
# REDIS_URL=redis://default:pass@host:6379              ← set automatically
CELERY_BROKER_URL=$REDIS_URL
CELERY_RESULT_BACKEND=$REDIS_URL

# ── CORS — allow your Vercel frontend ────────────────────────────────────────
CORS_ALLOWED_ORIGINS=https://your-vercel-app.vercel.app

# ── LLM providers ────────────────────────────────────────────────────────────
LLM_PROVIDER=gemini
GEMINI_API_KEY=AIza...
# OPENAI_API_KEY=sk-...       # uncomment if using OpenAI
# ANTHROPIC_API_KEY=sk-ant-...# uncomment if using Anthropic

# ── Stripe ───────────────────────────────────────────────────────────────────
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ── Static files ─────────────────────────────────────────────────────────────
STATIC_ROOT=/app/staticfiles
MEDIA_ROOT=/app/media

# ── Monitoring ───────────────────────────────────────────────────────────────
SENTRY_DSN=https://...@sentry.io/...
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.05
GIT_SHA=$RAILWAY_GIT_COMMIT_SHA   # Railway injects RAILWAY_GIT_COMMIT_SHA automatically

# ── Email (optional) ─────────────────────────────────────────────────────────
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# EMAIL_HOST=smtp.sendgrid.net
# EMAIL_PORT=587
# EMAIL_HOST_USER=apikey
# EMAIL_HOST_PASSWORD=SG....
# DEFAULT_FROM_EMAIL=no-reply@yourdomain.com
