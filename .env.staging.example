# ─────────────────────────────────────────────────────────────────────────────
# AI Novel Factory — Staging Environment
# Copy this file to .env.staging and fill in real values.
# ─────────────────────────────────────────────────────────────────────────────

DJANGO_SETTINGS_MODULE=config.settings_staging

# Django
DJANGO_SECRET_KEY=staging-secret-key-change-me
DJANGO_DEBUG=False
DJANGO_ALLOWED_HOSTS=staging.ai-novel-factory.com,localhost

# Database — single URL
DATABASE_URL=postgresql://novel_user:staging_password@db:5432/ai_novel_factory_staging
POSTGRES_DB=ai_novel_factory_staging
POSTGRES_USER=novel_user
POSTGRES_PASSWORD=staging_password

# Redis
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
REDIS_URL=redis://redis:6379/0

# Ports
DJANGO_PORT=8000
FRONTEND_PORT=3000
FLOWER_PORT=5555

# Flower auth
FLOWER_USER=admin
FLOWER_PASSWORD=staging_flower_password

# Frontend
NEXT_PUBLIC_API_URL=https://staging.ai-novel-factory.com/api

# CORS
CORS_ALLOWED_ORIGINS=https://staging.ai-novel-factory.com,http://localhost:3000

# Error tracking
SENTRY_DSN=

# AI Provider
LLM_PROVIDER=ollama
OLLAMA_BASE_URL=http://host.docker.internal:11434
OLLAMA_MODEL=llama3
OLLAMA_TIMEOUT=300

# Gemini (optional on staging)
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.0-flash

# Stripe (use test keys on staging)
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_test_...

# Backup
BACKUP_DIR=/app/backups
BACKUP_RETAIN_DAYS=14

# Email (console backend — no real sends)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
